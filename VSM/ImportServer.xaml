<Window x:Class="VRisingServerManager.ImportServer"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VRisingServerManager"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        mc:Ignorable="d"
        Title="Import Server from Local Save" Height="400" Width="600" Icon="Resources\Add.png" ResizeMode="NoResize">
    <Grid>
        <StackPanel Margin="10">
            <TextBlock Text="Import a server from your local V Rising save files." FontWeight="Bold" Margin="0,0,0,10"/>

            <GroupBox Header="Server Configuration" Margin="0,0,0,10">
                <StackPanel>
                    <DockPanel Margin="0,5">
                        <TextBlock Text="Server Name:" Width="100" VerticalAlignment="Center"/>
                        <TextBox x:Name="ServerNameTextBox" Text="{Binding Name, Mode=TwoWay}" Margin="5" Width="400" MaxLength="30" ToolTip="The name of the server used in the server manager."/>
                    </DockPanel>
                    <DockPanel Margin="0,5">
                        <TextBlock Text="Server Path:" Width="100" VerticalAlignment="Center"/>
                        <TextBox x:Name="ServerPathTextBox" Text="{Binding Path, Mode=TwoWay}" Margin="5" IsReadOnly="True" Width="400" ToolTip="The path where the server will be installed."/>
                        <Button x:Name="ServerPathButton" Content="Browse" Margin="5" Click="ServerPathButton_Click" ToolTip="Choose a directory path."/>
                    </DockPanel>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Local Save Selection" Margin="0,0,0,10">
                <StackPanel>
                    <TextBlock Text="Select the local V Rising save you want to import:" Margin="0,0,0,5"/>
                    <DockPanel Margin="0,5">
                        <TextBlock Text="Local Saves Path:" Width="110" VerticalAlignment="Center"/>
                        <TextBox x:Name="LocalSavesPathTextBox" Margin="5" IsReadOnly="True" Width="350" ToolTip="Path to your local V Rising saves."/>
                        <Button x:Name="LocalSavesPathButton" Content="Browse" Margin="5" Click="LocalSavesPathButton_Click" ToolTip="Browse to your local saves directory."/>
                    </DockPanel>
                    <TextBlock Text="Available Saves:" Margin="0,10,0,5"/>
                    <ComboBox x:Name="AvailableSavesComboBox" Margin="0,0,0,5" SelectionChanged="AvailableSavesComboBox_SelectionChanged" ToolTip="Select a save file to import."/>
                    <TextBlock x:Name="SaveInfoTextBlock" Text="No save selected" Margin="0,5,0,0" FontStyle="Italic"/>
                </StackPanel>
            </GroupBox>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                <Button x:Name="ImportButton" Content="Import Server" Width="100" Margin="0,0,10,0" Click="ImportButton_Click" IsEnabled="False"/>
                <Button Content="Cancel" Width="100" Click="CancelButton_Click"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>